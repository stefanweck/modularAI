!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("../entity/group.js"),e=a("../entity/entity.js"),f=a("../tasks/execute.js"),g=a("../world/world.js"),h=function(a){this.isInitialized=!1,this.entities=null,this.world=null,this.initialize()};h.prototype={initialize:function(){if(!this.isInitialized){this.entities=new d;var a=new e("Robin");a.addTask(new f),a.addTask(new f),this.entities.addEntity(a),this.world=new g,this.update(),this.isInitialized=!0}},update:function(){requestAnimationFrame(this.update.bind(this));for(var a=0;a<this.entities.entities.length;a++)this.entities.entities[a].run();this.world.update()}},b.exports=h},{"../entity/entity.js":2,"../entity/group.js":3,"../tasks/execute.js":5,"../world/world.js":7}],2:[function(a,b,c){"use strict";var d=function(a){this.name=a,this.tasks=[],this.currentTask=null};d.prototype={run:function(){if("done"===this.currentTask.state){var a=this.tasks.indexOf(this.currentTask);a>=0&&a<this.tasks.length-1&&(this.currentTask=this.tasks[a+1]),this.currentTask.run()}},getTask:function(a){return this.tasks[a]},addTask:function(a){this.tasks.push(a),null===this.currentTask&&(this.currentTask=a,this.currentTask.run())},removeTask:function(a){this.task.splice(a,1)},totalTasks:function(){return this.tasks.length()}},b.exports=d},{}],3:[function(a,b,c){"use strict";var d=a("./entity.js"),e=function(){this.entities=[]};e.prototype.addEntity=function(a){!a instanceof d||this.entities.push(a)},e.prototype.removeEntity=function(a){var b=this.entities.indexOf(a);-1!==b&&this.entities.splice(b,1)},b.exports=e},{"./entity.js":2}],4:[function(a,b,c){"use strict";var d=a("./core/system.js"),e=function(){{var a={};new d(a)}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),window.addEventListener("load",e),b.exports=e},{"./core/system.js":1}],5:[function(a,b,c){"use strict";var d=a("./task.js"),e=function(){d.call(this),this.name="Execute"};e.prototype=Object.create(d.prototype,{run:{value:function(){this.start(),console.log("ga nu stofzuigen"),setTimeout(this.finish.bind(this),5e3)}}}),b.exports=e},{"./task.js":6}],6:[function(a,b,c){"use strict";var d=function(){this.name="Base Task",this.state="planned"};d.prototype={run:function(){},start:function(){this.state="busy"},finish:function(){this.state="done"}},b.exports=d},{}],7:[function(a,b,c){"use strict";var d=function(){this.scene=null,this.camera=null,this.renderer=null,this.controls=null,this.initialize()};d.prototype={initialize:function(){this.initializeCamera(),this.initializeControls(),this.initializeStage(),this.initializeObjects(),this.initializeRenderer(),window.addEventListener("resize",this.onWindowResize.bind(this),!1)},initializeCamera:function(){this.camera=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3},initializeControls:function(){this.controls=new THREE.TrackballControls(this.camera),this.controls.rotateSpeed=1,this.controls.zoomSpeed=1.2,this.controls.panSpeed=1,this.controls.noZoom=!1,this.controls.noPan=!1,this.controls.staticMoving=!0,this.controls.dynamicDampingFactor=.3},initializeStage:function(){this.scene=new THREE.Scene,this.scene.add(new THREE.AmbientLight(5263440));var a=new THREE.SpotLight(16777215,1.5);a.position.set(0,500,2e3),a.castShadow=!0,a.shadowCameraNear=200,a.shadowCameraFar=this.camera.far,a.shadowCameraFov=50,a.shadowBias=-22e-5,a.shadowDarkness=.5,a.shadowMapWidth=2048,a.shadowMapHeight=2048,this.scene.add(a);var b=new THREE.Mesh(new THREE.PlaneBufferGeometry(2e3,2e3,8,8),new THREE.MeshBasicMaterial({color:15592941}));b.receiveShadow=!0,this.scene.add(b)},initializeRenderer:function(){this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(15790320),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.sortObjects=!1,this.renderer.shadowMapEnabled=!0,this.renderer.shadowMapType=THREE.PCFShadowMap,document.body.appendChild(this.renderer.domElement)},initializeObjects:function(){var a=new THREE.BoxGeometry(40,40,40),b=new THREE.Mesh(a,new THREE.MeshLambertMaterial({color:16777215*Math.random()}));b.position.x=0,b.position.y=0,b.position.z=20,b.castShadow=!0,b.receiveShadow=!0,this.scene.add(b)},onWindowResize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},update:function(){this.controls.update(),this.renderer.render(this.scene,this.camera)}},b.exports=d},{}]},{},[4]);